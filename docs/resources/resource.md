---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "opal_resource Resource - terraform-provider-opal"
subcategory: ""
description: |-
  Resource Resource
---

# opal_resource (Resource)

Resource Resource

## Example Usage

```terraform
resource "opal_resource" "my_resource" {
    admin_owner_id = "7c86c85d-0651-43e2-a748-d69d658418e8"
            app_id = "f454d283-ca87-4a8a-bdbb-df212eca5353"
            description = "This resource represents AWS IAM role \"SupportUser\"."
            name = "my-mongo-db"
            request_configurations = [
        {
            allow_requests = true
            auto_approval = false
            condition = {
                group_ids = {
                    "caf8a4c7-ec57-4b81-a172-8cd3687b3ad9",
                }
                role_remote_ids = {
                    "...",
                }
            }
            max_duration = 120
            priority = 1
            recommended_duration = 120
            request_template_id = "06851574-e50d-40ca-8c78-f72ae6ab4304"
            require_mfa_to_request = false
            require_support_ticket = false
            reviewer_stages = [
                {
                    operator = "AND"
                    owner_ids = {
                        "66c2bdfc-b3e7-4464-ae94-bc89fbd03a92",
                    }
                    require_admin_approval = false
                    require_manager_approval = false
                },
            ]
        },
    ]
            require_mfa_to_approve = false
            require_mfa_to_connect = false
            resource_type = "AWS_IAM_ROLE"
            visibility = "GLOBAL"
            visibility_group_ids = {
        "dda2041a-0d76-41a9-b988-b1ee194539e3",
    }
        }
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `app_id` (String) The ID of the app for the resource. Requires replacement if changed.
- `name` (String) The name of the remote resource.
- `request_configurations` (Attributes List) A list of configurations for requests to this resource. If not provided, the default request configuration will be used. (see [below for nested schema](#nestedatt--request_configurations))
- `resource_type` (String) The type of the resource. Requires replacement if changed. ; must be one of ["AWS_IAM_ROLE", "AWS_EC2_INSTANCE", "AWS_EKS_CLUSTER", "AWS_RDS_POSTGRES_INSTANCE", "AWS_RDS_MYSQL_INSTANCE", "AWS_ACCOUNT", "AWS_SSO_PERMISSION_SET", "CUSTOM", "GCP_BUCKET", "GCP_COMPUTE_INSTANCE", "GCP_FOLDER", "GCP_GKE_CLUSTER", "GCP_PROJECT", "GCP_CLOUD_SQL_POSTGRES_INSTANCE", "GCP_CLOUD_SQL_MYSQL_INSTANCE", "GIT_HUB_REPO", "GIT_LAB_PROJECT", "GOOGLE_WORKSPACE_ROLE", "MONGO_INSTANCE", "MONGO_ATLAS_INSTANCE", "OKTA_APP", "OKTA_ROLE", "OPAL_ROLE", "PAGERDUTY_ROLE", "TAILSCALE_SSH", "SALESFORCE_PERMISSION_SET", "SALESFORCE_PROFILE", "SALESFORCE_ROLE", "WORKDAY_ROLE", "MYSQL_INSTANCE", "MARIADB_INSTANCE", "TELEPORT_ROLE"]
- `visibility` (String) The visibility level of the entity. must be one of ["GLOBAL", "LIMITED"]

### Optional

- `admin_owner_id` (String) The ID of the owner of the resource.
- `description` (String) A description of the remote resource.
- `remote_info` (Attributes) Information that defines the remote resource. This replaces the deprecated remote_id and metadata fields. Requires replacement if changed. (see [below for nested schema](#nestedatt--remote_info))
- `require_mfa_to_approve` (Boolean) A bool representing whether or not to require MFA for reviewers to approve requests for this resource.
- `require_mfa_to_connect` (Boolean) A bool representing whether or not to require MFA to connect to this resource.
- `ticket_propagation` (Attributes) Configuration for ticket propagation, when enabled, a ticket will be created for access changes related to the users in this resource. (see [below for nested schema](#nestedatt--ticket_propagation))
- `visibility_group_ids` (Set of String)

### Read-Only

- `id` (String) The ID of the resource.
- `parent_resource_id` (String) The ID of the parent resource.

<a id="nestedatt--request_configurations"></a>
### Nested Schema for `request_configurations`

Optional:

- `allow_requests` (Boolean) A bool representing whether or not to allow requests for this resource. Not Null
- `auto_approval` (Boolean) A bool representing whether or not to automatically approve requests for this resource. Not Null
- `condition` (Attributes) (see [below for nested schema](#nestedatt--request_configurations--condition))
- `max_duration` (Number) The maximum duration for which the resource can be requested (in minutes).
- `priority` (Number) The priority of the request configuration. Not Null
- `recommended_duration` (Number) The recommended duration for which the resource should be requested (in minutes). -1 represents an indefinite duration.
- `request_template_id` (String) The ID of the associated request template.
- `require_mfa_to_request` (Boolean) A bool representing whether or not to require MFA for requesting access to this resource. Not Null
- `require_support_ticket` (Boolean) A bool representing whether or not access requests to the resource require an access ticket. Not Null
- `reviewer_stages` (Attributes List) The list of reviewer stages for the request configuration. Not Null (see [below for nested schema](#nestedatt--request_configurations--reviewer_stages))

<a id="nestedatt--request_configurations--condition"></a>
### Nested Schema for `request_configurations.condition`

Optional:

- `group_ids` (Set of String) The list of group IDs to match.
- `role_remote_ids` (Set of String) The list of role remote IDs to match.


<a id="nestedatt--request_configurations--reviewer_stages"></a>
### Nested Schema for `request_configurations.reviewer_stages`

Optional:

- `operator` (String) The operator of the reviewer stage. Admin and manager approval are also treated as reviewers. must be one of ["AND", "OR"]; Default: "AND"
- `owner_ids` (Set of String) Not Null
- `require_admin_approval` (Boolean) Whether this reviewer stage should require admin approval.
- `require_manager_approval` (Boolean) Whether this reviewer stage should require manager approval. Not Null



<a id="nestedatt--remote_info"></a>
### Nested Schema for `remote_info`

Optional:

- `aws_account` (Attributes) Remote info for AWS account. Requires replacement if changed. (see [below for nested schema](#nestedatt--remote_info--aws_account))
- `aws_ec2_instance` (Attributes) Remote info for AWS EC2 instance. Requires replacement if changed. (see [below for nested schema](#nestedatt--remote_info--aws_ec2_instance))
- `aws_eks_cluster` (Attributes) Remote info for AWS EKS cluster. Requires replacement if changed. (see [below for nested schema](#nestedatt--remote_info--aws_eks_cluster))
- `aws_iam_role` (Attributes) Remote info for AWS IAM role. Requires replacement if changed. (see [below for nested schema](#nestedatt--remote_info--aws_iam_role))
- `aws_permission_set` (Attributes) Remote info for AWS Identity Center permission set. Requires replacement if changed. (see [below for nested schema](#nestedatt--remote_info--aws_permission_set))
- `aws_rds_instance` (Attributes) Remote info for AWS RDS instance. Requires replacement if changed. (see [below for nested schema](#nestedatt--remote_info--aws_rds_instance))
- `gcp_big_query_dataset` (Attributes) Remote info for GCP BigQuery Dataset. Requires replacement if changed. (see [below for nested schema](#nestedatt--remote_info--gcp_big_query_dataset))
- `gcp_big_query_table` (Attributes) Remote info for GCP BigQuery Table. Requires replacement if changed. (see [below for nested schema](#nestedatt--remote_info--gcp_big_query_table))
- `gcp_bucket` (Attributes) Remote info for GCP bucket. Requires replacement if changed. (see [below for nested schema](#nestedatt--remote_info--gcp_bucket))
- `gcp_compute_instance` (Attributes) Remote info for GCP compute instance. Requires replacement if changed. (see [below for nested schema](#nestedatt--remote_info--gcp_compute_instance))
- `gcp_folder` (Attributes) Remote info for GCP folder. Requires replacement if changed. (see [below for nested schema](#nestedatt--remote_info--gcp_folder))
- `gcp_gke_cluster` (Attributes) Remote info for GCP GKE cluster. Requires replacement if changed. (see [below for nested schema](#nestedatt--remote_info--gcp_gke_cluster))
- `gcp_organization` (Attributes) Remote info for GCP organization. Requires replacement if changed. (see [below for nested schema](#nestedatt--remote_info--gcp_organization))
- `gcp_project` (Attributes) Remote info for GCP project. Requires replacement if changed. (see [below for nested schema](#nestedatt--remote_info--gcp_project))
- `gcp_sql_instance` (Attributes) Remote info for GCP SQL instance. Requires replacement if changed. (see [below for nested schema](#nestedatt--remote_info--gcp_sql_instance))
- `github_repo` (Attributes) Remote info for GitHub repository. Requires replacement if changed. (see [below for nested schema](#nestedatt--remote_info--github_repo))
- `gitlab_project` (Attributes) Remote info for Gitlab project. Requires replacement if changed. (see [below for nested schema](#nestedatt--remote_info--gitlab_project))
- `okta_app` (Attributes) Remote info for Okta directory app. Requires replacement if changed. (see [below for nested schema](#nestedatt--remote_info--okta_app))
- `okta_custom_role` (Attributes) Remote info for Okta directory custom role. Requires replacement if changed. (see [below for nested schema](#nestedatt--remote_info--okta_custom_role))
- `okta_standard_role` (Attributes) Remote info for Okta directory standard role. Requires replacement if changed. (see [below for nested schema](#nestedatt--remote_info--okta_standard_role))
- `pagerduty_role` (Attributes) Remote info for Pagerduty role. Requires replacement if changed. (see [below for nested schema](#nestedatt--remote_info--pagerduty_role))
- `salesforce_permission_set` (Attributes) Remote info for Salesforce permission set. Requires replacement if changed. (see [below for nested schema](#nestedatt--remote_info--salesforce_permission_set))
- `salesforce_profile` (Attributes) Remote info for Salesforce profile. Requires replacement if changed. (see [below for nested schema](#nestedatt--remote_info--salesforce_profile))
- `salesforce_role` (Attributes) Remote info for Salesforce role. Requires replacement if changed. (see [below for nested schema](#nestedatt--remote_info--salesforce_role))
- `teleport_role` (Attributes) Remote info for Teleport role. Requires replacement if changed. (see [below for nested schema](#nestedatt--remote_info--teleport_role))

<a id="nestedatt--remote_info--aws_account"></a>
### Nested Schema for `remote_info.aws_account`

Optional:

- `account_id` (String) The id of the AWS account. Requires replacement if changed. ; Not Null


<a id="nestedatt--remote_info--aws_ec2_instance"></a>
### Nested Schema for `remote_info.aws_ec2_instance`

Optional:

- `account_id` (String) The id of the AWS account. Required for AWS Organizations. Requires replacement if changed.
- `instance_id` (String) The instanceId of the EC2 instance. Requires replacement if changed. ; Not Null
- `region` (String) The region of the EC2 instance. Requires replacement if changed. ; Not Null


<a id="nestedatt--remote_info--aws_eks_cluster"></a>
### Nested Schema for `remote_info.aws_eks_cluster`

Optional:

- `account_id` (String) The id of the AWS account. Required for AWS Organizations. Requires replacement if changed.
- `arn` (String) The ARN of the EKS cluster. Requires replacement if changed. ; Not Null


<a id="nestedatt--remote_info--aws_iam_role"></a>
### Nested Schema for `remote_info.aws_iam_role`

Optional:

- `account_id` (String) The id of the AWS account. Required for AWS Organizations. Requires replacement if changed.
- `arn` (String) The ARN of the IAM role. Requires replacement if changed. ; Not Null


<a id="nestedatt--remote_info--aws_permission_set"></a>
### Nested Schema for `remote_info.aws_permission_set`

Optional:

- `account_id` (String) The ID of an AWS account to which this permission set is provisioned. Requires replacement if changed. ; Not Null
- `arn` (String) The ARN of the permission set. Requires replacement if changed. ; Not Null


<a id="nestedatt--remote_info--aws_rds_instance"></a>
### Nested Schema for `remote_info.aws_rds_instance`

Optional:

- `account_id` (String) The id of the AWS account. Required for AWS Organizations. Requires replacement if changed.
- `instance_id` (String) The instanceId of the RDS instance. Requires replacement if changed. ; Not Null
- `region` (String) The region of the RDS instance. Requires replacement if changed. ; Not Null
- `resource_id` (String) The resourceId of the RDS instance. Requires replacement if changed. ; Not Null


<a id="nestedatt--remote_info--gcp_big_query_dataset"></a>
### Nested Schema for `remote_info.gcp_big_query_dataset`

Optional:

- `dataset_id` (String) The id of the dataset. Requires replacement if changed. ; Not Null
- `project_id` (String) The id of the project the dataset is in. Requires replacement if changed. ; Not Null


<a id="nestedatt--remote_info--gcp_big_query_table"></a>
### Nested Schema for `remote_info.gcp_big_query_table`

Optional:

- `dataset_id` (String) The id of the dataset the table is in. Requires replacement if changed. ; Not Null
- `project_id` (String) The id of the project the table is in. Requires replacement if changed. ; Not Null
- `table_id` (String) The id of the table. Requires replacement if changed. ; Not Null


<a id="nestedatt--remote_info--gcp_bucket"></a>
### Nested Schema for `remote_info.gcp_bucket`

Optional:

- `bucket_id` (String) The id of the bucket. Requires replacement if changed. ; Not Null


<a id="nestedatt--remote_info--gcp_compute_instance"></a>
### Nested Schema for `remote_info.gcp_compute_instance`

Optional:

- `instance_id` (String) The id of the instance. Requires replacement if changed. ; Not Null
- `project_id` (String) The id of the project the instance is in. Requires replacement if changed. ; Not Null
- `zone` (String) The zone the instance is in. Requires replacement if changed. ; Not Null


<a id="nestedatt--remote_info--gcp_folder"></a>
### Nested Schema for `remote_info.gcp_folder`

Optional:

- `folder_id` (String) The id of the folder. Requires replacement if changed. ; Not Null


<a id="nestedatt--remote_info--gcp_gke_cluster"></a>
### Nested Schema for `remote_info.gcp_gke_cluster`

Optional:

- `cluster_name` (String) The name of the GKE cluster. Requires replacement if changed. ; Not Null


<a id="nestedatt--remote_info--gcp_organization"></a>
### Nested Schema for `remote_info.gcp_organization`

Optional:

- `organization_id` (String) The id of the organization. Requires replacement if changed. ; Not Null


<a id="nestedatt--remote_info--gcp_project"></a>
### Nested Schema for `remote_info.gcp_project`

Optional:

- `project_id` (String) The id of the project. Requires replacement if changed. ; Not Null


<a id="nestedatt--remote_info--gcp_sql_instance"></a>
### Nested Schema for `remote_info.gcp_sql_instance`

Optional:

- `instance_id` (String) The id of the SQL instance. Requires replacement if changed. ; Not Null
- `project_id` (String) The id of the project the instance is in. Requires replacement if changed. ; Not Null


<a id="nestedatt--remote_info--github_repo"></a>
### Nested Schema for `remote_info.github_repo`

Optional:

- `repo_name` (String) The name of the repository. Requires replacement if changed. ; Not Null


<a id="nestedatt--remote_info--gitlab_project"></a>
### Nested Schema for `remote_info.gitlab_project`

Optional:

- `project_id` (String) The id of the project. Requires replacement if changed. ; Not Null


<a id="nestedatt--remote_info--okta_app"></a>
### Nested Schema for `remote_info.okta_app`

Optional:

- `app_id` (String) The id of the app. Requires replacement if changed. ; Not Null


<a id="nestedatt--remote_info--okta_custom_role"></a>
### Nested Schema for `remote_info.okta_custom_role`

Optional:

- `role_id` (String) The id of the custom role. Requires replacement if changed. ; Not Null


<a id="nestedatt--remote_info--okta_standard_role"></a>
### Nested Schema for `remote_info.okta_standard_role`

Optional:

- `role_type` (String) The type of the standard role. Requires replacement if changed. ; Not Null


<a id="nestedatt--remote_info--pagerduty_role"></a>
### Nested Schema for `remote_info.pagerduty_role`

Optional:

- `role_name` (String) The name of the role. Requires replacement if changed. ; Not Null


<a id="nestedatt--remote_info--salesforce_permission_set"></a>
### Nested Schema for `remote_info.salesforce_permission_set`

Optional:

- `permission_set_id` (String) The id of the permission set. Requires replacement if changed. ; Not Null


<a id="nestedatt--remote_info--salesforce_profile"></a>
### Nested Schema for `remote_info.salesforce_profile`

Optional:

- `profile_id` (String) The id of the permission set. Requires replacement if changed. ; Not Null
- `user_license_id` (String) The id of the user license. Requires replacement if changed. ; Not Null


<a id="nestedatt--remote_info--salesforce_role"></a>
### Nested Schema for `remote_info.salesforce_role`

Optional:

- `role_id` (String) The id of the role. Requires replacement if changed. ; Not Null


<a id="nestedatt--remote_info--teleport_role"></a>
### Nested Schema for `remote_info.teleport_role`

Optional:

- `role_name` (String) The name role. Requires replacement if changed. ; Not Null



<a id="nestedatt--ticket_propagation"></a>
### Nested Schema for `ticket_propagation`

Optional:

- `enabled_on_grant` (Boolean) Not Null
- `enabled_on_revocation` (Boolean) Not Null
- `ticket_project_id` (String)
- `ticket_provider` (String) The third party ticketing platform provider. must be one of ["JIRA", "LINEAR", "SERVICE_NOW"]

## Import

Import is supported using the following syntax:

```shell
terraform import opal_resource.my_opal_resource "4baf8423-db0a-4037-a4cf-f79c60cb67a5"
```
