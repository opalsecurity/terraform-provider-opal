// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package provider

import (
	"github.com/hashicorp/terraform-plugin-framework/types"
	tfTypes "github.com/opalsecurity/terraform-provider-opal/internal/provider/types"
	"github.com/opalsecurity/terraform-provider-opal/internal/sdk/models/shared"
	"time"
)

func (r *BundlesDataSourceModel) RefreshFromSharedPaginatedBundleList(resp *shared.PaginatedBundleList) {
	if resp != nil {
		r.Bundles = []tfTypes.Bundle{}
		if len(r.Bundles) > len(resp.Bundles) {
			r.Bundles = r.Bundles[:len(resp.Bundles)]
		}
		for bundlesCount, bundlesItem := range resp.Bundles {
			var bundles1 tfTypes.Bundle
			bundles1.AdminOwnerID = types.StringPointerValue(bundlesItem.AdminOwnerID)
			bundles1.BundleID = types.StringPointerValue(bundlesItem.BundleID)
			if bundlesItem.CreatedAt != nil {
				bundles1.CreatedAt = types.StringValue(bundlesItem.CreatedAt.Format(time.RFC3339Nano))
			} else {
				bundles1.CreatedAt = types.StringNull()
			}
			bundles1.Description = types.StringPointerValue(bundlesItem.Description)
			bundles1.Name = types.StringPointerValue(bundlesItem.Name)
			bundles1.TotalNumGroups = types.Int64PointerValue(bundlesItem.TotalNumGroups)
			bundles1.TotalNumItems = types.Int64PointerValue(bundlesItem.TotalNumItems)
			bundles1.TotalNumResources = types.Int64PointerValue(bundlesItem.TotalNumResources)
			if bundlesItem.UpdatedAt != nil {
				bundles1.UpdatedAt = types.StringValue(bundlesItem.UpdatedAt.Format(time.RFC3339Nano))
			} else {
				bundles1.UpdatedAt = types.StringNull()
			}
			if bundlesCount+1 > len(r.Bundles) {
				r.Bundles = append(r.Bundles, bundles1)
			} else {
				r.Bundles[bundlesCount].AdminOwnerID = bundles1.AdminOwnerID
				r.Bundles[bundlesCount].BundleID = bundles1.BundleID
				r.Bundles[bundlesCount].CreatedAt = bundles1.CreatedAt
				r.Bundles[bundlesCount].Description = bundles1.Description
				r.Bundles[bundlesCount].Name = bundles1.Name
				r.Bundles[bundlesCount].TotalNumGroups = bundles1.TotalNumGroups
				r.Bundles[bundlesCount].TotalNumItems = bundles1.TotalNumItems
				r.Bundles[bundlesCount].TotalNumResources = bundles1.TotalNumResources
				r.Bundles[bundlesCount].UpdatedAt = bundles1.UpdatedAt
			}
		}
		r.Next = types.StringPointerValue(resp.Next)
		r.Previous = types.StringPointerValue(resp.Previous)
		r.TotalCount = types.Int64PointerValue(resp.TotalCount)
	}
}
