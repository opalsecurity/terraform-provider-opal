// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package provider

import (
	"context"
	"github.com/hashicorp/terraform-plugin-framework/diag"
	"github.com/hashicorp/terraform-plugin-framework/types"
	"github.com/opalsecurity/terraform-provider-opal/v3/internal/provider/typeconvert"
	tfTypes "github.com/opalsecurity/terraform-provider-opal/v3/internal/provider/types"
	"github.com/opalsecurity/terraform-provider-opal/v3/internal/sdk/models/operations"
	"github.com/opalsecurity/terraform-provider-opal/v3/internal/sdk/models/shared"
)

func (r *GroupResourceModel) RefreshFromOperationsGetGroupMessageChannelsResponseBody(ctx context.Context, resp *operations.GetGroupMessageChannelsResponseBody) diag.Diagnostics {
	var diags diag.Diagnostics

	if resp != nil {
		r.MessageChannels.Channels = []tfTypes.MessageChannel{}

		for _, channelsItem := range resp.Channels {
			var channels tfTypes.MessageChannel

			channels.ID = types.StringValue(channelsItem.ID)
			channels.IsPrivate = types.BoolPointerValue(channelsItem.IsPrivate)
			channels.Name = types.StringPointerValue(channelsItem.Name)
			channels.RemoteID = types.StringPointerValue(channelsItem.RemoteID)
			if channelsItem.ThirdPartyProvider != nil {
				channels.ThirdPartyProvider = types.StringValue(string(*channelsItem.ThirdPartyProvider))
			} else {
				channels.ThirdPartyProvider = types.StringNull()
			}

			r.MessageChannels.Channels = append(r.MessageChannels.Channels, channels)
		}
		r.MessageChannels.MessageChannelIds = make([]types.String, 0, len(resp.MessageChannelIds))
		for _, v := range resp.MessageChannelIds {
			r.MessageChannels.MessageChannelIds = append(r.MessageChannels.MessageChannelIds, types.StringValue(v))
		}
	}

	return diags
}

func (r *GroupResourceModel) RefreshFromOperationsGetGroupOnCallSchedulesResponseBody(ctx context.Context, resp *operations.GetGroupOnCallSchedulesResponseBody) diag.Diagnostics {
	var diags diag.Diagnostics

	if resp != nil {
		r.OnCallSchedules.OnCallScheduleIds = make([]types.String, 0, len(resp.OnCallScheduleIds))
		for _, v := range resp.OnCallScheduleIds {
			r.OnCallSchedules.OnCallScheduleIds = append(r.OnCallSchedules.OnCallScheduleIds, types.StringValue(v))
		}
		r.OnCallSchedules.OnCallSchedules = []tfTypes.OnCallSchedule{}

		for _, onCallSchedulesItem := range resp.OnCallSchedules {
			var onCallSchedules tfTypes.OnCallSchedule

			onCallSchedules.ID = types.StringPointerValue(onCallSchedulesItem.ID)
			onCallSchedules.Name = types.StringPointerValue(onCallSchedulesItem.Name)
			onCallSchedules.RemoteID = types.StringPointerValue(onCallSchedulesItem.RemoteID)
			if onCallSchedulesItem.ThirdPartyProvider != nil {
				onCallSchedules.ThirdPartyProvider = types.StringValue(string(*onCallSchedulesItem.ThirdPartyProvider))
			} else {
				onCallSchedules.ThirdPartyProvider = types.StringNull()
			}

			r.OnCallSchedules.OnCallSchedules = append(r.OnCallSchedules.OnCallSchedules, onCallSchedules)
		}
	}

	return diags
}

func (r *GroupResourceModel) RefreshFromOperationsGetGroupVisibilityResponseBody(ctx context.Context, resp *operations.GetGroupVisibilityResponseBody) diag.Diagnostics {
	var diags diag.Diagnostics

	if resp != nil {
		r.Visibility = types.StringValue(string(resp.Visibility))
		r.VisibilityGroupIds = make([]types.String, 0, len(resp.VisibilityGroupIds))
		for _, v := range resp.VisibilityGroupIds {
			r.VisibilityGroupIds = append(r.VisibilityGroupIds, types.StringValue(v))
		}
	}

	return diags
}

func (r *GroupResourceModel) RefreshFromSharedGroup(ctx context.Context, resp *shared.Group) diag.Diagnostics {
	var diags diag.Diagnostics

	if resp != nil {
		r.AdminOwnerID = types.StringPointerValue(resp.AdminOwnerID)
		r.AppID = types.StringPointerValue(resp.AppID)
		r.CustomRequestNotification = types.StringPointerValue(resp.CustomRequestNotification)
		r.Description = types.StringPointerValue(resp.Description)
		r.ExtensionsDurationInMinutes = types.Int64PointerValue(resp.ExtensionsDurationInMinutes)
		r.GroupBindingID = types.StringPointerValue(resp.GroupBindingID)
		r.GroupLeaderUserIds = make([]types.String, 0, len(resp.GroupLeaderUserIds))
		for _, v := range resp.GroupLeaderUserIds {
			r.GroupLeaderUserIds = append(r.GroupLeaderUserIds, types.StringValue(v))
		}
		if resp.GroupType != nil {
			r.GroupType = types.StringValue(string(*resp.GroupType))
		} else {
			r.GroupType = types.StringNull()
		}
		r.ID = types.StringValue(resp.ID)
		if resp.LastSuccessfulSync == nil {
			r.LastSuccessfulSync = nil
		} else {
			r.LastSuccessfulSync = &tfTypes.SyncTask{}
			r.LastSuccessfulSync.CompletedAt = types.StringValue(typeconvert.TimeToString(resp.LastSuccessfulSync.CompletedAt))
			r.LastSuccessfulSync.ID = types.StringValue(resp.LastSuccessfulSync.ID)
		}
		r.Name = types.StringPointerValue(resp.Name)
		if resp.RemoteInfo == nil {
			r.RemoteInfo = nil
		} else {
			r.RemoteInfo = &tfTypes.GroupRemoteInfo{}
			if resp.RemoteInfo.ActiveDirectoryGroup == nil {
				r.RemoteInfo.ActiveDirectoryGroup = nil
			} else {
				r.RemoteInfo.ActiveDirectoryGroup = &tfTypes.ActiveDirectoryGroup{}
				r.RemoteInfo.ActiveDirectoryGroup.GroupID = types.StringValue(resp.RemoteInfo.ActiveDirectoryGroup.GroupID)
			}
			if resp.RemoteInfo.AzureAdMicrosoft365Group == nil {
				r.RemoteInfo.AzureAdMicrosoft365Group = nil
			} else {
				r.RemoteInfo.AzureAdMicrosoft365Group = &tfTypes.ActiveDirectoryGroup{}
				r.RemoteInfo.AzureAdMicrosoft365Group.GroupID = types.StringValue(resp.RemoteInfo.AzureAdMicrosoft365Group.GroupID)
			}
			if resp.RemoteInfo.AzureAdSecurityGroup == nil {
				r.RemoteInfo.AzureAdSecurityGroup = nil
			} else {
				r.RemoteInfo.AzureAdSecurityGroup = &tfTypes.ActiveDirectoryGroup{}
				r.RemoteInfo.AzureAdSecurityGroup.GroupID = types.StringValue(resp.RemoteInfo.AzureAdSecurityGroup.GroupID)
			}
			if resp.RemoteInfo.DuoGroup == nil {
				r.RemoteInfo.DuoGroup = nil
			} else {
				r.RemoteInfo.DuoGroup = &tfTypes.ActiveDirectoryGroup{}
				r.RemoteInfo.DuoGroup.GroupID = types.StringValue(resp.RemoteInfo.DuoGroup.GroupID)
			}
			if resp.RemoteInfo.GithubTeam == nil {
				r.RemoteInfo.GithubTeam = nil
			} else {
				r.RemoteInfo.GithubTeam = &tfTypes.GithubTeam{}
				r.RemoteInfo.GithubTeam.TeamSlug = types.StringValue(resp.RemoteInfo.GithubTeam.TeamSlug)
			}
			if resp.RemoteInfo.GitlabGroup == nil {
				r.RemoteInfo.GitlabGroup = nil
			} else {
				r.RemoteInfo.GitlabGroup = &tfTypes.ActiveDirectoryGroup{}
				r.RemoteInfo.GitlabGroup.GroupID = types.StringValue(resp.RemoteInfo.GitlabGroup.GroupID)
			}
			if resp.RemoteInfo.GoogleGroup == nil {
				r.RemoteInfo.GoogleGroup = nil
			} else {
				r.RemoteInfo.GoogleGroup = &tfTypes.ActiveDirectoryGroup{}
				r.RemoteInfo.GoogleGroup.GroupID = types.StringValue(resp.RemoteInfo.GoogleGroup.GroupID)
			}
			if resp.RemoteInfo.LdapGroup == nil {
				r.RemoteInfo.LdapGroup = nil
			} else {
				r.RemoteInfo.LdapGroup = &tfTypes.ActiveDirectoryGroup{}
				r.RemoteInfo.LdapGroup.GroupID = types.StringValue(resp.RemoteInfo.LdapGroup.GroupID)
			}
			if resp.RemoteInfo.OktaGroup == nil {
				r.RemoteInfo.OktaGroup = nil
			} else {
				r.RemoteInfo.OktaGroup = &tfTypes.ActiveDirectoryGroup{}
				r.RemoteInfo.OktaGroup.GroupID = types.StringValue(resp.RemoteInfo.OktaGroup.GroupID)
			}
			if resp.RemoteInfo.OktaGroupRule == nil {
				r.RemoteInfo.OktaGroupRule = nil
			} else {
				r.RemoteInfo.OktaGroupRule = &tfTypes.OktaGroupRule{}
				r.RemoteInfo.OktaGroupRule.RuleID = types.StringValue(resp.RemoteInfo.OktaGroupRule.RuleID)
			}
			if resp.RemoteInfo.SnowflakeRole == nil {
				r.RemoteInfo.SnowflakeRole = nil
			} else {
				r.RemoteInfo.SnowflakeRole = &tfTypes.SnowflakeRole{}
				r.RemoteInfo.SnowflakeRole.RoleID = types.StringValue(resp.RemoteInfo.SnowflakeRole.RoleID)
			}
			if resp.RemoteInfo.WorkdayUserSecurityGroup == nil {
				r.RemoteInfo.WorkdayUserSecurityGroup = nil
			} else {
				r.RemoteInfo.WorkdayUserSecurityGroup = &tfTypes.ActiveDirectoryGroup{}
				r.RemoteInfo.WorkdayUserSecurityGroup.GroupID = types.StringValue(resp.RemoteInfo.WorkdayUserSecurityGroup.GroupID)
			}
		}
		r.RemoteName = types.StringPointerValue(resp.RemoteName)
		r.RequestConfigurations = []tfTypes.RequestConfiguration{}

		for _, requestConfigurationsItem := range resp.RequestConfigurations {
			var requestConfigurations tfTypes.RequestConfiguration

			requestConfigurations.AllowRequests = types.BoolValue(requestConfigurationsItem.AllowRequests)
			requestConfigurations.AutoApproval = types.BoolValue(requestConfigurationsItem.AutoApproval)
			if requestConfigurationsItem.Condition == nil {
				requestConfigurations.Condition = nil
			} else {
				requestConfigurations.Condition = &tfTypes.Condition{}
				requestConfigurations.Condition.GroupIds = make([]types.String, 0, len(requestConfigurationsItem.Condition.GroupIds))
				for _, v := range requestConfigurationsItem.Condition.GroupIds {
					requestConfigurations.Condition.GroupIds = append(requestConfigurations.Condition.GroupIds, types.StringValue(v))
				}
				requestConfigurations.Condition.RoleRemoteIds = make([]types.String, 0, len(requestConfigurationsItem.Condition.RoleRemoteIds))
				for _, v := range requestConfigurationsItem.Condition.RoleRemoteIds {
					requestConfigurations.Condition.RoleRemoteIds = append(requestConfigurations.Condition.RoleRemoteIds, types.StringValue(v))
				}
			}
			requestConfigurations.ExtensionsDurationInMinutes = types.Int64PointerValue(requestConfigurationsItem.ExtensionsDurationInMinutes)
			requestConfigurations.MaxDuration = types.Int64PointerValue(requestConfigurationsItem.MaxDuration)
			requestConfigurations.Priority = types.Int64Value(requestConfigurationsItem.Priority)
			requestConfigurations.RecommendedDuration = types.Int64PointerValue(requestConfigurationsItem.RecommendedDuration)
			requestConfigurations.RequestTemplateID = types.StringPointerValue(requestConfigurationsItem.RequestTemplateID)
			requestConfigurations.RequireMfaToRequest = types.BoolValue(requestConfigurationsItem.RequireMfaToRequest)
			requestConfigurations.RequireSupportTicket = types.BoolValue(requestConfigurationsItem.RequireSupportTicket)
			requestConfigurations.ReviewerStages = []tfTypes.ReviewerStage{}

			for _, reviewerStagesItem := range requestConfigurationsItem.ReviewerStages {
				var reviewerStages tfTypes.ReviewerStage

				if reviewerStagesItem.Operator != nil {
					reviewerStages.Operator = types.StringValue(string(*reviewerStagesItem.Operator))
				} else {
					reviewerStages.Operator = types.StringNull()
				}
				reviewerStages.OwnerIds = make([]types.String, 0, len(reviewerStagesItem.OwnerIds))
				for _, v := range reviewerStagesItem.OwnerIds {
					reviewerStages.OwnerIds = append(reviewerStages.OwnerIds, types.StringValue(v))
				}
				reviewerStages.RequireAdminApproval = types.BoolPointerValue(reviewerStagesItem.RequireAdminApproval)
				reviewerStages.RequireManagerApproval = types.BoolPointerValue(reviewerStagesItem.RequireManagerApproval)

				requestConfigurations.ReviewerStages = append(requestConfigurations.ReviewerStages, reviewerStages)
			}

			r.RequestConfigurations = append(r.RequestConfigurations, requestConfigurations)
		}
		r.RequireMfaToApprove = types.BoolPointerValue(resp.RequireMfaToApprove)
		if resp.RiskSensitivity != nil {
			r.RiskSensitivity = types.StringValue(string(*resp.RiskSensitivity))
		} else {
			r.RiskSensitivity = types.StringNull()
		}
		if resp.RiskSensitivityOverride != nil {
			r.RiskSensitivityOverride = types.StringValue(string(*resp.RiskSensitivityOverride))
		} else {
			r.RiskSensitivityOverride = types.StringNull()
		}
	}

	return diags
}

func (r *GroupResourceModel) RefreshFromSharedUpdateGroupInfo(ctx context.Context, resp *shared.UpdateGroupInfo) diag.Diagnostics {
	var diags diag.Diagnostics

	r.AdminOwnerID = types.StringPointerValue(resp.AdminOwnerID)
	r.CustomRequestNotification = types.StringPointerValue(resp.CustomRequestNotification)
	r.Description = types.StringPointerValue(resp.Description)
	r.ExtensionsDurationInMinutes = types.Int64PointerValue(resp.ExtensionsDurationInMinutes)
	r.GroupLeaderUserIds = make([]types.String, 0, len(resp.GroupLeaderUserIds))
	for _, v := range resp.GroupLeaderUserIds {
		r.GroupLeaderUserIds = append(r.GroupLeaderUserIds, types.StringValue(v))
	}
	r.ID = types.StringValue(resp.ID)
	r.Name = types.StringPointerValue(resp.Name)
	r.RequestConfigurations = []tfTypes.RequestConfiguration{}

	for _, requestConfigurationsItem := range resp.RequestConfigurations {
		var requestConfigurations tfTypes.RequestConfiguration

		requestConfigurations.AllowRequests = types.BoolValue(requestConfigurationsItem.AllowRequests)
		requestConfigurations.AutoApproval = types.BoolValue(requestConfigurationsItem.AutoApproval)
		if requestConfigurationsItem.Condition == nil {
			requestConfigurations.Condition = nil
		} else {
			requestConfigurations.Condition = &tfTypes.Condition{}
			requestConfigurations.Condition.GroupIds = make([]types.String, 0, len(requestConfigurationsItem.Condition.GroupIds))
			for _, v := range requestConfigurationsItem.Condition.GroupIds {
				requestConfigurations.Condition.GroupIds = append(requestConfigurations.Condition.GroupIds, types.StringValue(v))
			}
			requestConfigurations.Condition.RoleRemoteIds = make([]types.String, 0, len(requestConfigurationsItem.Condition.RoleRemoteIds))
			for _, v := range requestConfigurationsItem.Condition.RoleRemoteIds {
				requestConfigurations.Condition.RoleRemoteIds = append(requestConfigurations.Condition.RoleRemoteIds, types.StringValue(v))
			}
		}
		requestConfigurations.ExtensionsDurationInMinutes = types.Int64PointerValue(requestConfigurationsItem.ExtensionsDurationInMinutes)
		requestConfigurations.MaxDuration = types.Int64PointerValue(requestConfigurationsItem.MaxDuration)
		requestConfigurations.Priority = types.Int64Value(requestConfigurationsItem.Priority)
		requestConfigurations.RecommendedDuration = types.Int64PointerValue(requestConfigurationsItem.RecommendedDuration)
		requestConfigurations.RequestTemplateID = types.StringPointerValue(requestConfigurationsItem.RequestTemplateID)
		requestConfigurations.RequireMfaToRequest = types.BoolValue(requestConfigurationsItem.RequireMfaToRequest)
		requestConfigurations.RequireSupportTicket = types.BoolValue(requestConfigurationsItem.RequireSupportTicket)
		requestConfigurations.ReviewerStages = []tfTypes.ReviewerStage{}

		for _, reviewerStagesItem := range requestConfigurationsItem.ReviewerStages {
			var reviewerStages tfTypes.ReviewerStage

			if reviewerStagesItem.Operator != nil {
				reviewerStages.Operator = types.StringValue(string(*reviewerStagesItem.Operator))
			} else {
				reviewerStages.Operator = types.StringNull()
			}
			reviewerStages.OwnerIds = make([]types.String, 0, len(reviewerStagesItem.OwnerIds))
			for _, v := range reviewerStagesItem.OwnerIds {
				reviewerStages.OwnerIds = append(reviewerStages.OwnerIds, types.StringValue(v))
			}
			reviewerStages.RequireAdminApproval = types.BoolPointerValue(reviewerStagesItem.RequireAdminApproval)
			reviewerStages.RequireManagerApproval = types.BoolPointerValue(reviewerStagesItem.RequireManagerApproval)

			requestConfigurations.ReviewerStages = append(requestConfigurations.ReviewerStages, reviewerStages)
		}

		r.RequestConfigurations = append(r.RequestConfigurations, requestConfigurations)
	}
	r.RequireMfaToApprove = types.BoolPointerValue(resp.RequireMfaToApprove)
	if resp.RiskSensitivityOverride != nil {
		r.RiskSensitivityOverride = types.StringValue(string(*resp.RiskSensitivityOverride))
	} else {
		r.RiskSensitivityOverride = types.StringNull()
	}

	return diags
}

func (r *GroupResourceModel) ToOperationsDeleteGroupRequest(ctx context.Context) (*operations.DeleteGroupRequest, diag.Diagnostics) {
	var diags diag.Diagnostics

	var id string
	id = r.ID.ValueString()

	out := operations.DeleteGroupRequest{
		ID: id,
	}

	return &out, diags
}

func (r *GroupResourceModel) ToOperationsGetGroupMessageChannelsRequest(ctx context.Context) (*operations.GetGroupMessageChannelsRequest, diag.Diagnostics) {
	var diags diag.Diagnostics

	var id string
	id = r.ID.ValueString()

	out := operations.GetGroupMessageChannelsRequest{
		ID: id,
	}

	return &out, diags
}

func (r *GroupResourceModel) ToOperationsGetGroupOnCallSchedulesRequest(ctx context.Context) (*operations.GetGroupOnCallSchedulesRequest, diag.Diagnostics) {
	var diags diag.Diagnostics

	var id string
	id = r.ID.ValueString()

	out := operations.GetGroupOnCallSchedulesRequest{
		ID: id,
	}

	return &out, diags
}

func (r *GroupResourceModel) ToOperationsGetGroupRequest(ctx context.Context) (*operations.GetGroupRequest, diag.Diagnostics) {
	var diags diag.Diagnostics

	var id string
	id = r.ID.ValueString()

	out := operations.GetGroupRequest{
		ID: id,
	}

	return &out, diags
}

func (r *GroupResourceModel) ToOperationsGetGroupVisibilityRequest(ctx context.Context) (*operations.GetGroupVisibilityRequest, diag.Diagnostics) {
	var diags diag.Diagnostics

	var id string
	id = r.ID.ValueString()

	out := operations.GetGroupVisibilityRequest{
		ID: id,
	}

	return &out, diags
}

func (r *GroupResourceModel) ToOperationsUpdateGroupMessageChannelsRequest(ctx context.Context) (*operations.UpdateGroupMessageChannelsRequest, diag.Diagnostics) {
	var diags diag.Diagnostics

	messageChannelIDList, messageChannelIDListDiags := r.ToSharedMessageChannelIDList(ctx)
	diags.Append(messageChannelIDListDiags...)

	if diags.HasError() {
		return nil, diags
	}

	var id string
	id = r.ID.ValueString()

	out := operations.UpdateGroupMessageChannelsRequest{
		MessageChannelIDList: *messageChannelIDList,
		ID:                   id,
	}

	return &out, diags
}

func (r *GroupResourceModel) ToOperationsUpdateGroupOnCallSchedulesRequest(ctx context.Context) (*operations.UpdateGroupOnCallSchedulesRequest, diag.Diagnostics) {
	var diags diag.Diagnostics

	onCallScheduleIDList, onCallScheduleIDListDiags := r.ToSharedOnCallScheduleIDList(ctx)
	diags.Append(onCallScheduleIDListDiags...)

	if diags.HasError() {
		return nil, diags
	}

	var id string
	id = r.ID.ValueString()

	out := operations.UpdateGroupOnCallSchedulesRequest{
		OnCallScheduleIDList: *onCallScheduleIDList,
		ID:                   id,
	}

	return &out, diags
}

func (r *GroupResourceModel) ToOperationsUpdateGroupVisibilityRequest(ctx context.Context) (*operations.UpdateGroupVisibilityRequest, diag.Diagnostics) {
	var diags diag.Diagnostics

	visibilityInfo, visibilityInfoDiags := r.ToSharedVisibilityInfo(ctx)
	diags.Append(visibilityInfoDiags...)

	if diags.HasError() {
		return nil, diags
	}

	var id string
	id = r.ID.ValueString()

	out := operations.UpdateGroupVisibilityRequest{
		VisibilityInfo: *visibilityInfo,
		ID:             id,
	}

	return &out, diags
}

func (r *GroupResourceModel) ToSharedCreateGroupInfo(ctx context.Context) (*shared.CreateGroupInfo, diag.Diagnostics) {
	var diags diag.Diagnostics

	var appID string
	appID = r.AppID.ValueString()

	customRequestNotification := new(string)
	if !r.CustomRequestNotification.IsUnknown() && !r.CustomRequestNotification.IsNull() {
		*customRequestNotification = r.CustomRequestNotification.ValueString()
	} else {
		customRequestNotification = nil
	}
	description := new(string)
	if !r.Description.IsUnknown() && !r.Description.IsNull() {
		*description = r.Description.ValueString()
	} else {
		description = nil
	}
	groupType := shared.GroupTypeEnum(r.GroupType.ValueString())
	var name string
	name = r.Name.ValueString()

	var remoteInfo *shared.GroupRemoteInfo
	if r.RemoteInfo != nil {
		var activeDirectoryGroup *shared.ActiveDirectoryGroup
		if r.RemoteInfo.ActiveDirectoryGroup != nil {
			var groupID string
			groupID = r.RemoteInfo.ActiveDirectoryGroup.GroupID.ValueString()

			activeDirectoryGroup = &shared.ActiveDirectoryGroup{
				GroupID: groupID,
			}
		}
		var azureAdMicrosoft365Group *shared.AzureAdMicrosoft365Group
		if r.RemoteInfo.AzureAdMicrosoft365Group != nil {
			var groupId1 string
			groupId1 = r.RemoteInfo.AzureAdMicrosoft365Group.GroupID.ValueString()

			azureAdMicrosoft365Group = &shared.AzureAdMicrosoft365Group{
				GroupID: groupId1,
			}
		}
		var azureAdSecurityGroup *shared.AzureAdSecurityGroup
		if r.RemoteInfo.AzureAdSecurityGroup != nil {
			var groupId2 string
			groupId2 = r.RemoteInfo.AzureAdSecurityGroup.GroupID.ValueString()

			azureAdSecurityGroup = &shared.AzureAdSecurityGroup{
				GroupID: groupId2,
			}
		}
		var duoGroup *shared.DuoGroup
		if r.RemoteInfo.DuoGroup != nil {
			var groupId3 string
			groupId3 = r.RemoteInfo.DuoGroup.GroupID.ValueString()

			duoGroup = &shared.DuoGroup{
				GroupID: groupId3,
			}
		}
		var githubTeam *shared.GithubTeam
		if r.RemoteInfo.GithubTeam != nil {
			var teamSlug string
			teamSlug = r.RemoteInfo.GithubTeam.TeamSlug.ValueString()

			githubTeam = &shared.GithubTeam{
				TeamSlug: teamSlug,
			}
		}
		var gitlabGroup *shared.GitlabGroup
		if r.RemoteInfo.GitlabGroup != nil {
			var groupId4 string
			groupId4 = r.RemoteInfo.GitlabGroup.GroupID.ValueString()

			gitlabGroup = &shared.GitlabGroup{
				GroupID: groupId4,
			}
		}
		var googleGroup *shared.GoogleGroup
		if r.RemoteInfo.GoogleGroup != nil {
			var groupId5 string
			groupId5 = r.RemoteInfo.GoogleGroup.GroupID.ValueString()

			googleGroup = &shared.GoogleGroup{
				GroupID: groupId5,
			}
		}
		var ldapGroup *shared.LdapGroup
		if r.RemoteInfo.LdapGroup != nil {
			var groupId6 string
			groupId6 = r.RemoteInfo.LdapGroup.GroupID.ValueString()

			ldapGroup = &shared.LdapGroup{
				GroupID: groupId6,
			}
		}
		var oktaGroup *shared.OktaGroup
		if r.RemoteInfo.OktaGroup != nil {
			var groupId7 string
			groupId7 = r.RemoteInfo.OktaGroup.GroupID.ValueString()

			oktaGroup = &shared.OktaGroup{
				GroupID: groupId7,
			}
		}
		var oktaGroupRule *shared.OktaGroupRule
		if r.RemoteInfo.OktaGroupRule != nil {
			var ruleID string
			ruleID = r.RemoteInfo.OktaGroupRule.RuleID.ValueString()

			oktaGroupRule = &shared.OktaGroupRule{
				RuleID: ruleID,
			}
		}
		var snowflakeRole *shared.SnowflakeRole
		if r.RemoteInfo.SnowflakeRole != nil {
			var roleID string
			roleID = r.RemoteInfo.SnowflakeRole.RoleID.ValueString()

			snowflakeRole = &shared.SnowflakeRole{
				RoleID: roleID,
			}
		}
		var workdayUserSecurityGroup *shared.WorkdayUserSecurityGroup
		if r.RemoteInfo.WorkdayUserSecurityGroup != nil {
			var groupId8 string
			groupId8 = r.RemoteInfo.WorkdayUserSecurityGroup.GroupID.ValueString()

			workdayUserSecurityGroup = &shared.WorkdayUserSecurityGroup{
				GroupID: groupId8,
			}
		}
		remoteInfo = &shared.GroupRemoteInfo{
			ActiveDirectoryGroup:     activeDirectoryGroup,
			AzureAdMicrosoft365Group: azureAdMicrosoft365Group,
			AzureAdSecurityGroup:     azureAdSecurityGroup,
			DuoGroup:                 duoGroup,
			GithubTeam:               githubTeam,
			GitlabGroup:              gitlabGroup,
			GoogleGroup:              googleGroup,
			LdapGroup:                ldapGroup,
			OktaGroup:                oktaGroup,
			OktaGroupRule:            oktaGroupRule,
			SnowflakeRole:            snowflakeRole,
			WorkdayUserSecurityGroup: workdayUserSecurityGroup,
		}
	}
	riskSensitivityOverride := new(shared.RiskSensitivityEnum)
	if !r.RiskSensitivityOverride.IsUnknown() && !r.RiskSensitivityOverride.IsNull() {
		*riskSensitivityOverride = shared.RiskSensitivityEnum(r.RiskSensitivityOverride.ValueString())
	} else {
		riskSensitivityOverride = nil
	}
	out := shared.CreateGroupInfo{
		AppID:                     appID,
		CustomRequestNotification: customRequestNotification,
		Description:               description,
		GroupType:                 groupType,
		Name:                      name,
		RemoteInfo:                remoteInfo,
		RiskSensitivityOverride:   riskSensitivityOverride,
	}

	return &out, diags
}

func (r *GroupResourceModel) ToSharedMessageChannelIDList(ctx context.Context) (*shared.MessageChannelIDList, diag.Diagnostics) {
	var diags diag.Diagnostics

	messageChannelIds := make([]string, 0, len(r.MessageChannelIds))
	for _, messageChannelIdsItem := range r.MessageChannelIds {
		messageChannelIds = append(messageChannelIds, messageChannelIdsItem.ValueString())
	}
	out := shared.MessageChannelIDList{
		MessageChannelIds: messageChannelIds,
	}

	return &out, diags
}

func (r *GroupResourceModel) ToSharedOnCallScheduleIDList(ctx context.Context) (*shared.OnCallScheduleIDList, diag.Diagnostics) {
	var diags diag.Diagnostics

	onCallScheduleIds := make([]string, 0, len(r.OnCallScheduleIds))
	for _, onCallScheduleIdsItem := range r.OnCallScheduleIds {
		onCallScheduleIds = append(onCallScheduleIds, onCallScheduleIdsItem.ValueString())
	}
	out := shared.OnCallScheduleIDList{
		OnCallScheduleIds: onCallScheduleIds,
	}

	return &out, diags
}

func (r *GroupResourceModel) ToSharedUpdateGroupInfo(ctx context.Context) (*shared.UpdateGroupInfo, diag.Diagnostics) {
	var diags diag.Diagnostics

	adminOwnerID := new(string)
	if !r.AdminOwnerID.IsUnknown() && !r.AdminOwnerID.IsNull() {
		*adminOwnerID = r.AdminOwnerID.ValueString()
	} else {
		adminOwnerID = nil
	}
	customRequestNotification := new(string)
	if !r.CustomRequestNotification.IsUnknown() && !r.CustomRequestNotification.IsNull() {
		*customRequestNotification = r.CustomRequestNotification.ValueString()
	} else {
		customRequestNotification = nil
	}
	description := new(string)
	if !r.Description.IsUnknown() && !r.Description.IsNull() {
		*description = r.Description.ValueString()
	} else {
		description = nil
	}
	extensionsDurationInMinutes := new(int64)
	if !r.ExtensionsDurationInMinutes.IsUnknown() && !r.ExtensionsDurationInMinutes.IsNull() {
		*extensionsDurationInMinutes = r.ExtensionsDurationInMinutes.ValueInt64()
	} else {
		extensionsDurationInMinutes = nil
	}
	groupLeaderUserIds := make([]string, 0, len(r.GroupLeaderUserIds))
	for _, groupLeaderUserIdsItem := range r.GroupLeaderUserIds {
		groupLeaderUserIds = append(groupLeaderUserIds, groupLeaderUserIdsItem.ValueString())
	}
	var id string
	id = r.ID.ValueString()

	name := new(string)
	if !r.Name.IsUnknown() && !r.Name.IsNull() {
		*name = r.Name.ValueString()
	} else {
		name = nil
	}
	requestConfigurations := make([]shared.RequestConfiguration, 0, len(r.RequestConfigurations))
	for _, requestConfigurationsItem := range r.RequestConfigurations {
		var allowRequests bool
		allowRequests = requestConfigurationsItem.AllowRequests.ValueBool()

		var autoApproval bool
		autoApproval = requestConfigurationsItem.AutoApproval.ValueBool()

		var condition *shared.Condition
		if requestConfigurationsItem.Condition != nil {
			groupIds := make([]string, 0, len(requestConfigurationsItem.Condition.GroupIds))
			for _, groupIdsItem := range requestConfigurationsItem.Condition.GroupIds {
				groupIds = append(groupIds, groupIdsItem.ValueString())
			}
			roleRemoteIds := make([]string, 0, len(requestConfigurationsItem.Condition.RoleRemoteIds))
			for _, roleRemoteIdsItem := range requestConfigurationsItem.Condition.RoleRemoteIds {
				roleRemoteIds = append(roleRemoteIds, roleRemoteIdsItem.ValueString())
			}
			condition = &shared.Condition{
				GroupIds:      groupIds,
				RoleRemoteIds: roleRemoteIds,
			}
		}
		extensionsDurationInMinutes1 := new(int64)
		if !requestConfigurationsItem.ExtensionsDurationInMinutes.IsUnknown() && !requestConfigurationsItem.ExtensionsDurationInMinutes.IsNull() {
			*extensionsDurationInMinutes1 = requestConfigurationsItem.ExtensionsDurationInMinutes.ValueInt64()
		} else {
			extensionsDurationInMinutes1 = nil
		}
		maxDuration := new(int64)
		if !requestConfigurationsItem.MaxDuration.IsUnknown() && !requestConfigurationsItem.MaxDuration.IsNull() {
			*maxDuration = requestConfigurationsItem.MaxDuration.ValueInt64()
		} else {
			maxDuration = nil
		}
		var priority int64
		priority = requestConfigurationsItem.Priority.ValueInt64()

		recommendedDuration := new(int64)
		if !requestConfigurationsItem.RecommendedDuration.IsUnknown() && !requestConfigurationsItem.RecommendedDuration.IsNull() {
			*recommendedDuration = requestConfigurationsItem.RecommendedDuration.ValueInt64()
		} else {
			recommendedDuration = nil
		}
		requestTemplateID := new(string)
		if !requestConfigurationsItem.RequestTemplateID.IsUnknown() && !requestConfigurationsItem.RequestTemplateID.IsNull() {
			*requestTemplateID = requestConfigurationsItem.RequestTemplateID.ValueString()
		} else {
			requestTemplateID = nil
		}
		var requireMfaToRequest bool
		requireMfaToRequest = requestConfigurationsItem.RequireMfaToRequest.ValueBool()

		var requireSupportTicket bool
		requireSupportTicket = requestConfigurationsItem.RequireSupportTicket.ValueBool()

		reviewerStages := make([]shared.ReviewerStage, 0, len(requestConfigurationsItem.ReviewerStages))
		for _, reviewerStagesItem := range requestConfigurationsItem.ReviewerStages {
			operator := new(shared.Operator)
			if !reviewerStagesItem.Operator.IsUnknown() && !reviewerStagesItem.Operator.IsNull() {
				*operator = shared.Operator(reviewerStagesItem.Operator.ValueString())
			} else {
				operator = nil
			}
			ownerIds := make([]string, 0, len(reviewerStagesItem.OwnerIds))
			for _, ownerIdsItem := range reviewerStagesItem.OwnerIds {
				ownerIds = append(ownerIds, ownerIdsItem.ValueString())
			}
			requireAdminApproval := new(bool)
			if !reviewerStagesItem.RequireAdminApproval.IsUnknown() && !reviewerStagesItem.RequireAdminApproval.IsNull() {
				*requireAdminApproval = reviewerStagesItem.RequireAdminApproval.ValueBool()
			} else {
				requireAdminApproval = nil
			}
			requireManagerApproval := new(bool)
			if !reviewerStagesItem.RequireManagerApproval.IsUnknown() && !reviewerStagesItem.RequireManagerApproval.IsNull() {
				*requireManagerApproval = reviewerStagesItem.RequireManagerApproval.ValueBool()
			} else {
				requireManagerApproval = nil
			}
			reviewerStages = append(reviewerStages, shared.ReviewerStage{
				Operator:               operator,
				OwnerIds:               ownerIds,
				RequireAdminApproval:   requireAdminApproval,
				RequireManagerApproval: requireManagerApproval,
			})
		}
		requestConfigurations = append(requestConfigurations, shared.RequestConfiguration{
			AllowRequests:               allowRequests,
			AutoApproval:                autoApproval,
			Condition:                   condition,
			ExtensionsDurationInMinutes: extensionsDurationInMinutes1,
			MaxDuration:                 maxDuration,
			Priority:                    priority,
			RecommendedDuration:         recommendedDuration,
			RequestTemplateID:           requestTemplateID,
			RequireMfaToRequest:         requireMfaToRequest,
			RequireSupportTicket:        requireSupportTicket,
			ReviewerStages:              reviewerStages,
		})
	}
	requireMfaToApprove := new(bool)
	if !r.RequireMfaToApprove.IsUnknown() && !r.RequireMfaToApprove.IsNull() {
		*requireMfaToApprove = r.RequireMfaToApprove.ValueBool()
	} else {
		requireMfaToApprove = nil
	}
	riskSensitivityOverride := new(shared.RiskSensitivityEnum)
	if !r.RiskSensitivityOverride.IsUnknown() && !r.RiskSensitivityOverride.IsNull() {
		*riskSensitivityOverride = shared.RiskSensitivityEnum(r.RiskSensitivityOverride.ValueString())
	} else {
		riskSensitivityOverride = nil
	}
	out := shared.UpdateGroupInfo{
		AdminOwnerID:                adminOwnerID,
		CustomRequestNotification:   customRequestNotification,
		Description:                 description,
		ExtensionsDurationInMinutes: extensionsDurationInMinutes,
		GroupLeaderUserIds:          groupLeaderUserIds,
		ID:                          id,
		Name:                        name,
		RequestConfigurations:       requestConfigurations,
		RequireMfaToApprove:         requireMfaToApprove,
		RiskSensitivityOverride:     riskSensitivityOverride,
	}

	return &out, diags
}

func (r *GroupResourceModel) ToSharedUpdateGroupInfoList(ctx context.Context) (*shared.UpdateGroupInfoList, diag.Diagnostics) {
	var diags diag.Diagnostics

	groups, groupsDiags := r.ToSharedUpdateGroupInfo(ctx)
	diags.Append(groupsDiags...)

	if diags.HasError() {
		return nil, diags
	}

	out := shared.UpdateGroupInfoList{
		Groups: []shared.UpdateGroupInfo{*groups},
	}

	return &out, diags
}

func (r *GroupResourceModel) ToSharedVisibilityInfo(ctx context.Context) (*shared.VisibilityInfo, diag.Diagnostics) {
	var diags diag.Diagnostics

	visibility := shared.VisibilityTypeEnum(r.Visibility.ValueString())
	visibilityGroupIds := make([]string, 0, len(r.VisibilityGroupIds))
	for _, visibilityGroupIdsItem := range r.VisibilityGroupIds {
		visibilityGroupIds = append(visibilityGroupIds, visibilityGroupIdsItem.ValueString())
	}
	out := shared.VisibilityInfo{
		Visibility:         visibility,
		VisibilityGroupIds: visibilityGroupIds,
	}

	return &out, diags
}
