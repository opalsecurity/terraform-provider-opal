// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package provider

import (
	"github.com/hashicorp/terraform-plugin-framework/types"
	tfTypes "github.com/opalsecurity/terraform-provider-opal/internal/provider/types"
	"github.com/opalsecurity/terraform-provider-opal/internal/sdk/models/shared"
	"time"
)

func (r *RequestsDataSourceModel) RefreshFromSharedRequestList(resp *shared.RequestList) {
	if resp != nil {
		r.Cursor = types.StringPointerValue(resp.Cursor)
		if len(r.Requests) > len(resp.Requests) {
			r.Requests = r.Requests[:len(resp.Requests)]
		}
		for requestsCount, requestsItem := range resp.Requests {
			var requests1 tfTypes.Request
			requests1.CreatedAt = types.StringValue(requestsItem.CreatedAt.Format(time.RFC3339Nano))
			for customFieldsResponsesCount, customFieldsResponsesItem := range requestsItem.CustomFieldsResponses {
				var customFieldsResponses1 tfTypes.RequestCustomFieldResponse
				customFieldsResponses1.FieldName = types.StringValue(customFieldsResponsesItem.FieldName)
				customFieldsResponses1.FieldType = types.StringValue(string(customFieldsResponsesItem.FieldType))
				if customFieldsResponsesItem.FieldValue.Str != nil {
					customFieldsResponses1.FieldValue.Str = types.StringPointerValue(customFieldsResponsesItem.FieldValue.Str)
				}
				if customFieldsResponsesItem.FieldValue.Boolean != nil {
					customFieldsResponses1.FieldValue.Boolean = types.BoolPointerValue(customFieldsResponsesItem.FieldValue.Boolean)
				}
				if customFieldsResponsesCount+1 > len(requests1.CustomFieldsResponses) {
					requests1.CustomFieldsResponses = append(requests1.CustomFieldsResponses, customFieldsResponses1)
				} else {
					requests1.CustomFieldsResponses[customFieldsResponsesCount].FieldName = customFieldsResponses1.FieldName
					requests1.CustomFieldsResponses[customFieldsResponsesCount].FieldType = customFieldsResponses1.FieldType
					requests1.CustomFieldsResponses[customFieldsResponsesCount].FieldValue = customFieldsResponses1.FieldValue
				}
			}
			requests1.DurationMinutes = types.Int64PointerValue(requestsItem.DurationMinutes)
			requests1.ID = types.StringValue(requestsItem.ID)
			requests1.Reason = types.StringValue(requestsItem.Reason)
			for requestedItemsListCount, requestedItemsListItem := range requestsItem.RequestedItemsList {
				var requestedItemsList1 tfTypes.RequestedItem
				requestedItemsList1.AccessLevelName = types.StringPointerValue(requestedItemsListItem.AccessLevelName)
				requestedItemsList1.AccessLevelRemoteID = types.StringPointerValue(requestedItemsListItem.AccessLevelRemoteID)
				requestedItemsList1.GroupID = types.StringPointerValue(requestedItemsListItem.GroupID)
				requestedItemsList1.Name = types.StringPointerValue(requestedItemsListItem.Name)
				requestedItemsList1.ResourceID = types.StringPointerValue(requestedItemsListItem.ResourceID)
				if requestedItemsListCount+1 > len(requests1.RequestedItemsList) {
					requests1.RequestedItemsList = append(requests1.RequestedItemsList, requestedItemsList1)
				} else {
					requests1.RequestedItemsList[requestedItemsListCount].AccessLevelName = requestedItemsList1.AccessLevelName
					requests1.RequestedItemsList[requestedItemsListCount].AccessLevelRemoteID = requestedItemsList1.AccessLevelRemoteID
					requests1.RequestedItemsList[requestedItemsListCount].GroupID = requestedItemsList1.GroupID
					requests1.RequestedItemsList[requestedItemsListCount].Name = requestedItemsList1.Name
					requests1.RequestedItemsList[requestedItemsListCount].ResourceID = requestedItemsList1.ResourceID
				}
			}
			requests1.RequesterID = types.StringValue(requestsItem.RequesterID)
			requests1.Status = types.StringValue(string(requestsItem.Status))
			requests1.TargetGroupID = types.StringPointerValue(requestsItem.TargetGroupID)
			requests1.TargetUserID = types.StringPointerValue(requestsItem.TargetUserID)
			requests1.UpdatedAt = types.StringValue(requestsItem.UpdatedAt.Format(time.RFC3339Nano))
			if requestsCount+1 > len(r.Requests) {
				r.Requests = append(r.Requests, requests1)
			} else {
				r.Requests[requestsCount].CreatedAt = requests1.CreatedAt
				r.Requests[requestsCount].CustomFieldsResponses = requests1.CustomFieldsResponses
				r.Requests[requestsCount].DurationMinutes = requests1.DurationMinutes
				r.Requests[requestsCount].ID = requests1.ID
				r.Requests[requestsCount].Reason = requests1.Reason
				r.Requests[requestsCount].RequestedItemsList = requests1.RequestedItemsList
				r.Requests[requestsCount].RequesterID = requests1.RequesterID
				r.Requests[requestsCount].Status = requests1.Status
				r.Requests[requestsCount].TargetGroupID = requests1.TargetGroupID
				r.Requests[requestsCount].TargetUserID = requests1.TargetUserID
				r.Requests[requestsCount].UpdatedAt = requests1.UpdatedAt
			}
		}
	}
}
