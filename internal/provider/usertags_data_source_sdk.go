// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package provider

import (
	"context"
	"github.com/hashicorp/terraform-plugin-framework/diag"
	"github.com/hashicorp/terraform-plugin-framework/types"
	"github.com/opalsecurity/terraform-provider-opal/v3/internal/provider/typeconvert"
	tfTypes "github.com/opalsecurity/terraform-provider-opal/v3/internal/provider/types"
	"github.com/opalsecurity/terraform-provider-opal/v3/internal/sdk/models/operations"
	"github.com/opalsecurity/terraform-provider-opal/v3/internal/sdk/models/shared"
)

func (r *UserTagsDataSourceModel) RefreshFromSharedTagsList(ctx context.Context, resp *shared.TagsList) diag.Diagnostics {
	var diags diag.Diagnostics

	if resp != nil {
		r.Tags = []tfTypes.Tag{}

		for _, tagsItem := range resp.Tags {
			var tags tfTypes.Tag

			tags.CreatedAt = types.StringPointerValue(typeconvert.TimePointerToStringPointer(tagsItem.CreatedAt))
			tags.ID = types.StringValue(tagsItem.ID)
			tags.Key = types.StringPointerValue(tagsItem.Key)
			tags.UpdatedAt = types.StringPointerValue(typeconvert.TimePointerToStringPointer(tagsItem.UpdatedAt))
			tags.UserCreatorID = types.StringPointerValue(tagsItem.UserCreatorID)
			tags.Value = types.StringPointerValue(tagsItem.Value)

			r.Tags = append(r.Tags, tags)
		}
	}

	return diags
}

func (r *UserTagsDataSourceModel) ToOperationsGetUserTagsRequest(ctx context.Context) (*operations.GetUserTagsRequest, diag.Diagnostics) {
	var diags diag.Diagnostics

	var userID string
	userID = r.UserID.ValueString()

	out := operations.GetUserTagsRequest{
		UserID: userID,
	}

	return &out, diags
}
